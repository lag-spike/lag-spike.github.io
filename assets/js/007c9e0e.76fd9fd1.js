"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[5198],{4137:function(e,n,t){t.d(n,{Zo:function(){return d},kt:function(){return f}});var o=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,o,a=function(e,n){if(null==e)return{};var t,o,a={},l=Object.keys(e);for(o=0;o<l.length;o++)t=l[o],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)t=l[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var c=o.createContext({}),u=function(e){var n=o.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},d=function(e){var n=u(e.components);return o.createElement(c.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},m=o.forwardRef((function(e,n){var t=e.components,a=e.mdxType,l=e.originalType,c=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),m=u(t),f=a,s=m["".concat(c,".").concat(f)]||m[f]||p[f]||l;return t?o.createElement(s,r(r({ref:n},d),{},{components:t})):o.createElement(s,r({ref:n},d))}));function f(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var l=t.length,r=new Array(l);r[0]=m;var i={};for(var c in n)hasOwnProperty.call(n,c)&&(i[c]=n[c]);i.originalType=e,i.mdxType="string"==typeof e?e:a,r[1]=i;for(var u=2;u<l;u++)r[u]=t[u];return o.createElement.apply(null,r)}return o.createElement.apply(null,t)}m.displayName="MDXCreateElement"},4201:function(e,n,t){t.r(n),t.d(n,{assets:function(){return d},contentTitle:function(){return c},default:function(){return f},frontMatter:function(){return i},metadata:function(){return u},toc:function(){return p}});var o=t(7462),a=t(3366),l=(t(7294),t(4137)),r=["components"],i={id:"Konfig-1_1",title:"\u8bed\u6cd5--Kconfig\u57fa\u7840",date:new Date("2022-01-06T00:00:00.000Z"),authors:"\u9cb8\u8bed",tags:["\u5f00\u53d1\u8bed\u8a00","Konfig","\u8bed\u6cd5","\u57fa\u7840"]},c=void 0,u={unversionedId:"skill/language/kconfig/Konfig-1_1",id:"skill/language/kconfig/Konfig-1_1",title:"\u8bed\u6cd5--Kconfig\u57fa\u7840",description:"\u4e00. \u6587\u4ef6\u5f00\u5934 mainmenu",source:"@site/docs\\skill\\language\\kconfig\\1_1_\u8bed\u6cd5--Kconfig\u57fa\u7840.md",sourceDirName:"skill/language/kconfig",slug:"/skill/language/kconfig/Konfig-1_1",permalink:"/docs/skill/language/kconfig/Konfig-1_1",draft:!1,tags:[{label:"\u5f00\u53d1\u8bed\u8a00",permalink:"/docs/tags/\u5f00\u53d1\u8bed\u8a00"},{label:"Konfig",permalink:"/docs/tags/konfig"},{label:"\u8bed\u6cd5",permalink:"/docs/tags/\u8bed\u6cd5"},{label:"\u57fa\u7840",permalink:"/docs/tags/\u57fa\u7840"}],version:"current",frontMatter:{id:"Konfig-1_1",title:"\u8bed\u6cd5--Kconfig\u57fa\u7840",date:"2022-01-06T00:00:00.000Z",authors:"\u9cb8\u8bed",tags:["\u5f00\u53d1\u8bed\u8a00","Konfig","\u8bed\u6cd5","\u57fa\u7840"]},sidebar:"skill",previous:{title:"Kconfig",permalink:"/docs/category/kconfig"},next:{title:"\u8ba1\u7b97\u673a\u57fa\u7840",permalink:"/docs/category/\u8ba1\u7b97\u673a\u57fa\u7840"}},d={},p=[{value:"\u4e00. \u6587\u4ef6\u5f00\u5934 <code>mainmenu</code>",id:"\u4e00-\u6587\u4ef6\u5f00\u5934-mainmenu",level:2},{value:"\u4e8c. \u83dc\u5355\u5757 <code>menu/endmenu</code>",id:"\u4e8c-\u83dc\u5355\u5757-menuendmenu",level:2},{value:"\u4e09. \u914d\u7f6e\u5757  <code>config</code> <code>menuconfig</code>",id:"\u4e09-\u914d\u7f6e\u5757--config-menuconfig",level:2},{value:"<code>config</code>",id:"config",level:3},{value:"<code>menuconfig</code>",id:"menuconfig",level:3},{value:"\u56db. \u6761\u4ef6\u663e\u793a <code>if</code> <code>depends on</code>",id:"\u56db-\u6761\u4ef6\u663e\u793a-if-depends-on",level:2},{value:"<code>if</code>",id:"if",level:3},{value:"<code>depends on</code>",id:"depends-on",level:3},{value:"\u4e94. \u4f9d\u8d56 <code>select</code>",id:"\u4e94-\u4f9d\u8d56-select",level:2},{value:"\u516d. \u5355\u9009\u5757 <code>choice</code>",id:"\u516d-\u5355\u9009\u5757-choice",level:2},{value:"\u4e03. \u754c\u9762\u5934\u90e8\u663e\u793a <code>comment</code>",id:"\u4e03-\u754c\u9762\u5934\u90e8\u663e\u793a-comment",level:2},{value:"\u516b. \u591a\u6587\u4ef6\u8054\u52a8 <code>source</code>",id:"\u516b-\u591a\u6587\u4ef6\u8054\u52a8-source",level:2}],m={toc:p};function f(e){var n=e.components,t=(0,a.Z)(e,r);return(0,l.kt)("wrapper",(0,o.Z)({},m,t,{components:n,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"\u4e00-\u6587\u4ef6\u5f00\u5934-mainmenu"},"\u4e00. \u6587\u4ef6\u5f00\u5934 ",(0,l.kt)("inlineCode",{parentName:"h2"},"mainmenu")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},'#\u83dc\u5355\u5f00\u5934\nmainmenu "LOG_TEST DEMO Config"\n')),(0,l.kt)("h2",{id:"\u4e8c-\u83dc\u5355\u5757-menuendmenu"},"\u4e8c. \u83dc\u5355\u5757 ",(0,l.kt)("inlineCode",{parentName:"h2"},"menu/endmenu")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"  ",(0,l.kt)("em",{parentName:"p"},"menu \u4e4b\u540e\u7684\u5b57\u7b26\u4e32\u662f\u83dc\u5355\u540d\u3002",(0,l.kt)("inlineCode",{parentName:"em"},"menu"),"\u548c ",(0,l.kt)("inlineCode",{parentName:"em"},"endmenu"),"\u95f4\u6709\u5f88\u591a ",(0,l.kt)("inlineCode",{parentName:"em"},"config"),"\u8bed\u53e5"))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},'menu "Hardware Drivers Config"\n    \u914d\u7f6e\u5757\u4e00\n    \u914d\u7f6e\u5757\u4e8c\nendmenu\n')),(0,l.kt)("h2",{id:"\u4e09-\u914d\u7f6e\u5757--config-menuconfig"},"\u4e09. \u914d\u7f6e\u5757  ",(0,l.kt)("inlineCode",{parentName:"h2"},"config")," ",(0,l.kt)("inlineCode",{parentName:"h2"},"menuconfig")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"  \u914d\u7f6e\u7684\u9009\u9879\u5757\u9690\u85cf"),(0,l.kt)("p",{parentName:"blockquote"},"  \u9690\u85cf:"),(0,l.kt)("pre",{parentName:"blockquote"},(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"config BSP_USING_GPIO\n    bool\n    default y\n")),(0,l.kt)("p",{parentName:"blockquote"},"  \u663e\u793a:"),(0,l.kt)("pre",{parentName:"blockquote"},(0,l.kt)("code",{parentName:"pre",className:"language-shell"},'config BSP_USING_GPIO\n    bool "Enable GPIO"\n    default y\n'))),(0,l.kt)("h3",{id:"config"},(0,l.kt)("inlineCode",{parentName:"h3"},"config")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},'#  \u914d\u7f6e\u9009\u9879\u7684\u5f00\u59cb  \u914d\u7f6e\u9009\u9879\u540d\u79f0\nconfig BSP_USING_GPIO \n\n    #   \u914d\u7f6e\u7c7b\u578b\u5b9a\u4e49 -- 5\u79cd\n    #   bool \u5e03\u5c14\u7c7b\u578b        default n\n    #   tristate \u4e09\u6001\u7c7b\u578b    \u8868\u793a\u5728\u5185\u6838\u4e2d\u7684\u4e09\u79cd\u72b6\u6001\n    #        \u7528\u6cd5:\n    #            y \u4e0d\u9009\u4e2d\n    #            n \u9009\u4e2d\u7f16\u8bd1\u5230\u5185\u6838\n    #            m \u624b\u52a8\u6dfb\u52a0\u9a71\u52a8\n    #   string \u5b57\u7b26\u4e32        default "uart1"\n    #   hex \u5341\u516d\u8fdb\u5236         \u7528\u6cd5\u540c\u4e0b--\u533a\u522b\u751f\u6210\u7684\u6570\u7684\u8fdb\u5236\u4e0d\u4e00\u6837\n    #   int \u6574\u5f62             \n    #        \u4f7f\u7528\u6574\u5f62\u65f6\u9700\u8981\u6709\u8303\u56f4\n    #        int "ssss"\n    #        range 1 176\n    #        default 116\n    bool "Enable GPIO"//\u7c7b\u578b \u8f93\u5165\u63d0\u793a\n    \n    #   \u53cd\u5411\u4f9d\u8d56\u5173\u7cfb     \n    #   select\uff1a\u5f00\u542f BSP_USING_GPIO \u9700\u8981\u4f9d\u8d56 RT_USING_PIN\n    #        RT_USING_PIN \u529f\u80fd\u4f1a\u88ab\u81ea\u52a8\u9009\u5b9a\uff1b\n    select RT_USING_PIN//\u4f9d\u8d56\u5173\u7cfb\n    \n    #   \u914d\u7f6e\u9009\u9879\u7684\u9ed8\u8ba4\u503c\n    #   bool\u7684\u53ef\u4ee5\u662f y/n  \n    default y//\u9ed8\u8ba4\u503c\n\n    #   config gpio\n    #   \u4e3a\u5e2e\u52a9\u4fe1\u606f\n    help//\u5e2e\u52a9\u4fe1\u606f\n    config gpio\n#===============================================\n    #   \u914d\u7f6e\u7ed3\u675f\u540e\n    #   rtconfig.h \u6709\u5982\u4e0b\u5185\u5bb9\n    #        #define RT_USING_PIN\n    #        #define BSP_USING_GPIO\n')),(0,l.kt)("h3",{id:"menuconfig"},(0,l.kt)("inlineCode",{parentName:"h3"},"menuconfig")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},'# menuconfig \u8fd9\u4e2a\u8bed\u53e5\u548c config \u8bed\u53e5\u5f88\u76f8\u4f3c\n# \u5b83\u5728 config \u7684\u57fa\u7840\u4e0a\u8981\u6c42\u6240\u6709\u7684\u5b50\u9009\u9879\u4f5c\u4e3a\u72ec\u7acb\u7684\u884c\u663e\u793a\u3002\nmenu "Hardware Drivers Config"\n    menuconfig BSP_USING_UART\n        bool "Enable UART"\n        default y\n        select RT_USING_SERIAL\n        if BSP_USING_UART\n            config BSP_USING_UART1\n                bool "Enable UART1"\n                default y\n\n            config BSP_UART1_RX_USING_DMA\n                bool "Enable UART1 RX DMA"\n                #   depends on\n                #   \u8be5\u914d\u7f6e\u9009\u9879 BSP_UART1_RX_USING_DMA\n                #   \u53ea\u6709\u5728 BSP_USING_UART1 && RT_SERIAL_USING_DMA \u4e3a\u771f\u65f6\n                #   \u65b9\u53ef\u663e\u793a\n                depends on BSP_USING_UART1 && RT_SERIAL_USING_DMA\n                default n\n        endif\nendmenu\n')),(0,l.kt)("h2",{id:"\u56db-\u6761\u4ef6\u663e\u793a-if-depends-on"},"\u56db. \u6761\u4ef6\u663e\u793a ",(0,l.kt)("inlineCode",{parentName:"h2"},"if")," ",(0,l.kt)("inlineCode",{parentName:"h2"},"depends on")),(0,l.kt)("h3",{id:"if"},(0,l.kt)("inlineCode",{parentName:"h3"},"if")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"  ",(0,l.kt)("em",{parentName:"p"},'\u5f53\u6ca1\u6709\u9009\u4e2d "Enable CAN" \u9009\u9879\u65f6( \u5c31\u662f\u5b8f  ',(0,l.kt)("inlineCode",{parentName:"em"},"BSP_USING_CAN")," )\uff0c\u4e0b\u9762\u901a\u8fc7 if \u5224\u65ad\u7684 ",(0,l.kt)("inlineCode",{parentName:"em"},"Enable CAN1")," \u9009\u9879\u5e76\u4e0d\u4f1a\u663e\u793a\u51fa\u6765"))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},'menu "Hardware Drivers Config"\n    menuconfig BSP_USING_CAN\n        bool "Enable CAN"\n        default n\n        select RT_USING_CAN\n        if BSP_USING_CAN\n            config BSP_USING_CAN1\n                bool "Enable CAN1"\n                default n\n        endif\nendmenu\n')),(0,l.kt)("h3",{id:"depends-on"},(0,l.kt)("inlineCode",{parentName:"h3"},"depends on")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"   ",(0,l.kt)("inlineCode",{parentName:"p"},"depends on")," \u6761\u4ef6\u6ee1\u8db3 \u5185\u5bb9\u663e\u793a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},'# RT_USNING_A \u9009\u5b9a\u6216\u8005 RT_USNING_B \u4e0d\u9009\u5b9a\u7684\u60c5\u51b5\u4e0b\n# \u663e\u793a BSP_USING_UART3 \u7684\u914d\u7f6e\u83dc\u5355\u9009\u9879\n# \u9ed8\u8ba4 \u662f\u5426 \u4e3a\u9009\u62e9\u72b6\u6001  \u53d6\u51b3\u4e8e  default n\nconfig BSP_USING_UART3\n    bool "UART3 config"\n    depends on RT_USNING_A || !RT_USNING_B\n    select RT_USING_SERIAL\n    default n\n')),(0,l.kt)("h2",{id:"\u4e94-\u4f9d\u8d56-select"},"\u4e94. \u4f9d\u8d56 ",(0,l.kt)("inlineCode",{parentName:"h2"},"select")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},'# \u5f00\u542f BSP_USING_UART3 \u9700\u8981\u4f9d\u8d56 RT_USING_SERIAL\n# \u82e5 BSP_USING_UART3 \u5f00\u542f, \n# RT_USING_SERIAL \u529f\u80fd\u4f1a\u88ab\u81ea\u52a8\u9009\u5b9a\nconfig BSP_USING_UART3\n    bool "UART3 config"\n    select RT_USING_SERIAL\n    default n\n')),(0,l.kt)("h2",{id:"\u516d-\u5355\u9009\u5757-choice"},"\u516d. \u5355\u9009\u5757 ",(0,l.kt)("inlineCode",{parentName:"h2"},"choice")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},'menu "Hardware Drivers Config"\n    menuconfig BSP_USING_ONCHIP_RTC\n        bool "Enable RTC"\n        select RT_USING_RTC\n        select RT_USING_LIBC\n        default n\n        if BSP_USING_ONCHIP_RTC\n\n            #   choice/endchoice \u7ed9\u51fa\u9009\u62e9\u9879\n            #   \u4e2d\u95f4\u53ef\u4ee5\u5b9a\u4e49\u591a\u4e2a\u914d\u7f6e\u9879\u4f9b\u9009\u62e9\n            #   \u4f46\u53ea\u80fd\u9009\u62e9\u4e00\u4e2a\u914d\u7f6e\u9879\n            choice\n\n                # prompt\n                #     \u6807\u5934\u63d0\u793a\u4fe1\u606f \n                #     bool\n                #     prompt "Networking support"\n                # \u7b49\u4ef7\u7684\n                #     bool "Networking support"\n                prompt "Select clock source"\n                udefalt BSP_RTC_USING_LSE\n\n                config BSP_RTC_USING_LSE\n                    bool "RTC USING LSE"\n\n                config BSP_RTC_USING_LSI\n                    bool "RTC USING LSI"\n            endchoice\n        endif\nendmenu\n')),(0,l.kt)("h2",{id:"\u4e03-\u754c\u9762\u5934\u90e8\u663e\u793a-comment"},"\u4e03. \u754c\u9762\u5934\u90e8\u663e\u793a ",(0,l.kt)("inlineCode",{parentName:"h2"},"comment")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},'menu "Hardware Drivers Config"\n    # \u51fa\u73b0\u5728  "Hardware Drivers Config" \u754c\u9762\u7684\u7b2c\u4e00\u884c\n    # \u4f5c\u4e3a\u63d0\u793a\n    comment "uart2 pin conflict with Ethernet and PWM"\n    config BSP_USING_COM2\n        bool "Enable COM2"\n        select BSP_USING_UART\n        select BSP_USING_UART2\n        default n\nendmenu\n')),(0,l.kt)("h2",{id:"\u516b-\u591a\u6587\u4ef6\u8054\u52a8-source"},"\u516b. \u591a\u6587\u4ef6\u8054\u52a8 ",(0,l.kt)("inlineCode",{parentName:"h2"},"source")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"  ",(0,l.kt)("em",{parentName:"p"},"\u8bed\u53e5\u7528\u4e8e\u8bfb\u53d6\u53e6\u4e00\u4e2a\u6587\u4ef6\u4e2d\u7684 Kconfig \u6587\u4ef6"))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},'source "../libraries/HAL_Drivers/Kconfig"\n')))}f.isMDXComponent=!0}}]);