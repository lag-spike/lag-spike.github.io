---
id: c-1_1
title: c基础--使用须知
date: 2021-12-19
authors: 鲸语
tags: [开发语言, c, c基础, 编译, 内存, c关键字]
---
内容包含 编译 内存 关键字

## 编译器

### 编译的 **四个** 步骤

>   gcc 编译指令`gcc hello.c -o a` a为可执行文件

1.   预处理`.c-.i` 

     >   简单处理高级语言

     1.   处理宏`字符替换`和条件编译
     2.   引入头文件
     3.   删除注释和空白格
     4.   添加行号和文件标识
     5.   保留 `#pragma`编译指令 编译器需要使用

2.   编译`.i-.s`

     >   将高级语言翻译为汇编语言 `gcc -S hello.c -o a.s`

     1.   词法分析
     2.   语法分析
     3.   语义分析
     4.   优化代码生成汇编

3.   汇编`.s-.o`

     >   将汇编文件翻译为机器语言 `gcc -c hello.c -o a.o`

4.   链接`.o-可执行`

     >   机器语言生成可执行文件 `gcc hello.c -o a`

### C开发的四步

编辑 -- 编译 -- 链接 -- 运行

## 内存

### C语言内存模型及作用

**RAM** -- flash

**ROM** -- 内存

| **C - 内存模型** | 作用                                                         |
| ---------------- | ------------------------------------------------------------ |
| 栈区 -- stack    | 存放函参和局部变量<br />效率高,空间有限`2M`<br />运算内置于CPU的指令集 |
| 堆区 -- heap     | 用户自行操作<br />通常"内存溢出"问题就在这里<br />**释放内存需手动** |
| 静态区 -- Data   | `全局变量` 和`静态变量`<br />初始化和未初始化的数据放在相邻的位置 |
| 常量区 -- Data   | 常量                                                         |
| 代码区 -- code   | 存放代码                                                     |



## 函数

### 动态内存的申请和释放

`new() 和 malloc()` 与  `delete() 和 free()` 区别

前者会调用构造函数和析构函数

后者单纯申请和释放堆上内存空间

## 指针

###  函数指针和指针函数

**函数指针** : 指向函数的指针

1.   指针指向函数第一句话的地址.

2.   `(*p)() == p()`

     p 就是 指向函数的指针

**指针函数** : 返回值为指针的函数

1.   `*p() == *(p())`

     因为`()`优先级高于`*`

## 关键字
### 优质文章
[C语言中32个关键字详解](https://zhuanlan.zhihu.com/p/37908790)

### auto

1.   自动变量 --只能修饰 --- 局部变量

2.   一般都缺省

3.   `auto c = 8`

     c 默认为 整形

4.   类型说明符

     c 中可以不初始化, 使用默认

     c++ 必须初始化

### signed

声明有符号类型变量或函数

### union

1.   声明联合数据类型变量
2.   一个 `union` 只有一块足够大的内存容纳变量
3.   所有成员起始地址相同

### enum

1.   声明枚举类型
2.   赋值则以, 否则从 0 开始递增 1 

### typedef

给数据类型起别名

### unsigned

声明无符号类型变量或函数

### signed

声明有符号类型变量或函数

### extern

指定对应变量为外部变量

引用外部文件声明的对象

比如工程中其他文件的全局变量

### register

声明寄存器变量

### static

声明静态变量, 作用域为文件内部

### const

**与volatile合称“cv特性”**

声明只读变量

### volatile

**与const合称“cv特性”**

表明变量常用

强制编译器酶促从内存中取出该变量值

### goto

无条件跳转

### sizeof

得到指定变量类型大小或 特定类型变量大小
